{"version":3,"file":"module.js","mappings":"uHAAAA,EAAOC,QAAUC,C,MCAjBF,EAAOC,QAAUE,C,OCAjBH,EAAOC,QAAUG,C,MCAjBJ,EAAOC,QAAUI,C,MCAjBL,EAAOC,QAAUK,C,GCCbC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaT,QAGrB,IAAID,EAASO,EAAyBE,GAAY,CAGjDR,QAAS,CAAC,GAOX,OAHAW,EAAoBH,GAAUT,EAAQA,EAAOC,QAASO,GAG/CR,EAAOC,OACf,CCrBAO,EAAoBK,EAAKb,IACxB,IAAIc,EAASd,GAAUA,EAAOe,WAC7B,IAAOf,EAAiB,QACxB,IAAM,EAEP,OADAQ,EAAoBQ,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CAAM,ECLdN,EAAoBQ,EAAI,CAACf,EAASiB,KACjC,IAAI,IAAIC,KAAOD,EACXV,EAAoBY,EAAEF,EAAYC,KAASX,EAAoBY,EAAEnB,EAASkB,IAC5EE,OAAOC,eAAerB,EAASkB,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAE1E,ECNDX,EAAoBY,EAAI,CAACK,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,GCClFlB,EAAoBsB,EAAK7B,IACH,oBAAX8B,QAA0BA,OAAOC,aAC1CX,OAAOC,eAAerB,EAAS8B,OAAOC,YAAa,CAAEC,MAAO,WAE7DZ,OAAOC,eAAerB,EAAS,aAAc,CAAEgC,OAAO,GAAO,E,25CCDvD,IAAMC,EAAb,a,qRAAA,U,MAAA,OACE,WAAYC,GAAgE,a,4FAAA,UAC1E,cAAMA,IAEDC,YAAc,CAAC,EAHsD,CAI3E,CALH,O,EAAA,E,kFAAA,E,KAAgCC,uB,kzDCChC,IAAQC,EAA+BC,EAAAA,YAAAA,gBAAdC,EAAcD,EAAAA,YAAAA,UAM1BE,EAAb,a,qRAAA,U,MAAA,+KACqB,SAACC,GAClB,MAAqC,EAAKC,MAAlCC,EAAR,EAAQA,gBAAiBC,EAAzB,EAAyBA,QACnBC,EAAW,EAAH,GACTD,EAAQC,SADC,CAEZC,SAAUL,EAAMM,OAAOf,QAEzBW,EAAgB,EAAD,GAAMC,EAAN,CAAeC,SAAAA,IAC/B,IARH,yBAWmB,SAACJ,GAChB,MAAqC,EAAKC,OAC1CC,EADA,EAAQA,iBACQ,EAAD,GADf,EAAyBC,QACV,CAEbI,eAAgB,CACdC,OAAQR,EAAMM,OAAOf,SAG1B,IAnBH,wBAqBkB,WACd,MAAqC,EAAKU,MAAlCC,EAAR,EAAQA,gBAAiBC,EAAzB,EAAyBA,QACzBD,EAAgB,EAAD,GACVC,EADU,CAEbM,iBAAkB,EAAF,GACXN,EAAQM,iBADG,CAEdD,QAAQ,IAEVD,eAAgB,EAAF,GACTJ,EAAQI,eADC,CAEZC,OAAQ,OAGb,IAlCH,S,EAAA,G,EAAA,qBAoCE,WACE,IAAQL,EAAYO,KAAKT,MAAjBE,QACAC,EAA+BD,EAA/BC,SAAUK,EAAqBN,EAArBM,iBACZF,EAAkBJ,EAAQI,gBAAkB,CAAC,EAEnD,OACE,yBAAKI,UAAU,iBACb,yBAAKA,UAAU,WACb,kBAACb,EAAD,CACEc,MAAM,WACNC,WAAY,EACZC,WAAY,GACZC,SAAUL,KAAKM,iBACfzB,MAAOa,EAASC,UAAY,GAC5BY,YAAY,wBAIhB,yBAAKN,UAAU,kBACb,yBAAKA,UAAU,WACb,kBAACf,EAAD,CACEsB,aAAeT,GAAoBA,EAAiBD,OACpDjB,MAAOgB,EAAeC,QAAU,GAChCI,MAAM,UACNK,YAAY,oBACZJ,WAAY,EACZC,WAAY,GACZK,QAAST,KAAKU,cACdL,SAAUL,KAAKW,mBAM1B,M,8EAtEH,GAAkCC,EAAAA,e,OCPrBC,EAAc,CACzB,CAAEX,MAAO,WAAYrB,MAAO,YAC5B,CAAEqB,MAAO,UAAWrB,MAAO,WAC3B,CAAEqB,MAAO,qBAAsBrB,MAAO,sBACtC,CAAEqB,MAAO,UAAWrB,MAAO,WAC3B,CAAEqB,MAAO,iBAAkBrB,MAAO,gBAO7B,SAASiC,EAAYC,GAC1B,OAAOF,EAAYG,MAAK,SAACC,GAAD,OAAYA,EAAOpC,QAAUkC,CAA7B,GACzB,CAEM,IAAMG,EAAwC,CACnDH,KAAM,W,2xDCXD,IAAMI,EAAb,a,qRAAA,U,MAAA,2KACiB,SAACtC,EAAgCuC,GAC9C,GAAKN,EAAYjC,EAAMA,OAAvB,CAIA,MAA4B,EAAKU,OACjCc,EADA,EAAQA,UACC,KADT,EAAkBgB,MACV,CAAaN,KAAMlC,EAAMA,QAHhC,CAIF,IARH,S,EAAA,G,EAAA,qBAUE,WACE,IACQkC,GADMO,EAAAA,EAAAA,UAAStB,KAAKT,MAAM8B,MAAOH,GACjCH,KAER,OACE,yBAAKd,UAAU,WACb,kBAAC,EAAAsB,OAAD,CAAQ9B,QAASoB,EAAahC,MAAOkC,EAAMV,SAAUL,KAAKwB,eAG/D,M,8EAnBH,GAAiCZ,EAAAA,eCJpBa,EAAS,IAAIC,EAAAA,iBAA+D5C,GACtF6C,gBAAgBtC,GAChBuC,eAAeT,E","sources":["webpack:///external amd \"react\"","webpack:///external amd \"@grafana/ui\"","webpack:///external amd \"@grafana/data\"","webpack:///external amd \"@grafana/runtime\"","webpack:///external amd \"lodash\"","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./datasource.ts","webpack:///./ConfigEditor.tsx","webpack:///./types.ts","webpack:///./QueryEditor.tsx","webpack:///./module.ts"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { DataSourceInstanceSettings } from '@grafana/data';\nimport { DataSourceWithBackend } from '@grafana/runtime';\nimport { HackeroneOptions, HackeroneQuery } from './types';\n\nexport class DataSource extends DataSourceWithBackend<HackeroneQuery, HackeroneOptions> {\n  constructor(instanceSettings: DataSourceInstanceSettings<HackeroneOptions>) {\n    super(instanceSettings);\n\n    this.annotations = {};\n  }\n}\n","import React, { ChangeEvent, PureComponent } from 'react';\nimport { LegacyForms } from '@grafana/ui';\nimport { DataSourcePluginOptionsEditorProps } from '@grafana/data';\nimport { HackeroneOptions, HackeroneSecureJson } from './types';\n\nconst { SecretFormField, FormField } = LegacyForms;\n\ninterface Props extends DataSourcePluginOptionsEditorProps<HackeroneOptions> {}\n\ninterface State {}\n\nexport class ConfigEditor extends PureComponent<Props, State> {\n  onUsernameChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const { onOptionsChange, options } = this.props;\n    const jsonData = {\n      ...options.jsonData,\n      userName: event.target.value,\n    };\n    onOptionsChange({ ...options, jsonData });\n  };\n\n  // Secure field (only sent to the backend)\n  onAPIKeyChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const { onOptionsChange, options } = this.props;\n    onOptionsChange({\n      ...options,\n      secureJsonData: {\n        apiKey: event.target.value,\n      },\n    });\n  };\n\n  onResetAPIKey = () => {\n    const { onOptionsChange, options } = this.props;\n    onOptionsChange({\n      ...options,\n      secureJsonFields: {\n        ...options.secureJsonFields,\n        apiKey: false,\n      },\n      secureJsonData: {\n        ...options.secureJsonData,\n        apiKey: '',\n      },\n    });\n  };\n\n  render() {\n    const { options } = this.props;\n    const { jsonData, secureJsonFields } = options;\n    const secureJsonData = (options.secureJsonData || {}) as HackeroneSecureJson;\n\n    return (\n      <div className=\"gf-form-group\">\n        <div className=\"gf-form\">\n          <FormField\n            label=\"Username\"\n            labelWidth={6}\n            inputWidth={20}\n            onChange={this.onUsernameChange}\n            value={jsonData.userName || ''}\n            placeholder=\"HackerOne Username\"\n          />\n        </div>\n\n        <div className=\"gf-form-inline\">\n          <div className=\"gf-form\">\n            <SecretFormField\n              isConfigured={(secureJsonFields && secureJsonFields.apiKey) as boolean}\n              value={secureJsonData.apiKey || ''}\n              label=\"API Key\"\n              placeholder=\"HackerOne API Key\"\n              labelWidth={6}\n              inputWidth={20}\n              onReset={this.onResetAPIKey}\n              onChange={this.onAPIKeyChange}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import { DataQuery, DataSourceJsonData } from '@grafana/data';\n\nexport type QueryType = 'earnings' | 'payouts' | 'payouts-cumulative' | 'reports';\n\nexport const typeOptions = [\n  { label: 'Earnings', value: 'earnings' },\n  { label: 'Payouts', value: 'payouts' },\n  { label: 'Cumulative Payouts', value: 'payouts-cumulative' },\n  { label: 'Reports', value: 'reports' },\n  { label: 'Reports (JSON)', value: 'reports-raw' },\n];\n\nexport interface HackeroneQuery extends DataQuery {\n  type: QueryType;\n}\n\nexport function isValidType(type: string | undefined): type is QueryType {\n  return typeOptions.some((option) => option.value === type);\n}\n\nexport const defaultQuery: Partial<HackeroneQuery> = {\n  type: 'reports',\n};\n\n/**\n * These are options configured for each DataSource instance.\n */\nexport interface HackeroneOptions extends DataSourceJsonData {\n  userName: string;\n}\n\n/**\n * Value that is used in the backend, but never sent over HTTP to the frontend\n */\nexport interface HackeroneSecureJson {\n  apiKey?: string;\n}\n","import { defaults } from 'lodash';\n\nimport { QueryEditorProps, SelectableValue } from '@grafana/data';\nimport { ActionMeta, Select } from '@grafana/ui';\nimport React, { PureComponent } from 'react';\nimport { DataSource } from './datasource';\nimport { defaultQuery, HackeroneOptions, HackeroneQuery, typeOptions, isValidType } from './types';\n\ntype Props = QueryEditorProps<DataSource, HackeroneQuery, HackeroneOptions>;\n\nexport class QueryEditor extends PureComponent<Props> {\n  onTypeChange = (value: SelectableValue<string>, actionMeta: ActionMeta) => {\n    if (!isValidType(value.value)) {\n      return;\n    }\n\n    const { onChange, query } = this.props;\n    onChange({ ...query, type: value.value });\n  };\n\n  render() {\n    const query = defaults(this.props.query, defaultQuery);\n    const { type } = query;\n\n    return (\n      <div className=\"gf-form\">\n        <Select options={typeOptions} value={type} onChange={this.onTypeChange} />\n      </div>\n    );\n  }\n}\n","import { DataSourcePlugin } from '@grafana/data';\nimport { DataSource } from './datasource';\nimport { ConfigEditor } from './ConfigEditor';\nimport { QueryEditor } from './QueryEditor';\nimport { HackeroneQuery, HackeroneOptions } from './types';\n\nexport const plugin = new DataSourcePlugin<DataSource, HackeroneQuery, HackeroneOptions>(DataSource)\n  .setConfigEditor(ConfigEditor)\n  .setQueryEditor(QueryEditor);\n"],"names":["module","exports","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__3__","__WEBPACK_EXTERNAL_MODULE__4__","__WEBPACK_EXTERNAL_MODULE__5__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","DataSource","instanceSettings","annotations","DataSourceWithBackend","SecretFormField","LegacyForms","FormField","ConfigEditor","event","props","onOptionsChange","options","jsonData","userName","target","secureJsonData","apiKey","secureJsonFields","this","className","label","labelWidth","inputWidth","onChange","onUsernameChange","placeholder","isConfigured","onReset","onResetAPIKey","onAPIKeyChange","PureComponent","typeOptions","isValidType","type","some","option","defaultQuery","QueryEditor","actionMeta","query","defaults","Select","onTypeChange","plugin","DataSourcePlugin","setConfigEditor","setQueryEditor"],"sourceRoot":""}